<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>

</head>

<body>

    <div class="cursor"></div>
    <div class="img"><img src="site3/img/p02.jpg"></div>
    <div class="box">
        <div></div>
        <div></div>
    </div>

    <style>
        * {
            margin: 0;
        }

        .box {
            width: 100%;
            height: 100vh;
        }

        .box div {
            width: 50%;
            height: 100%;
            float: left;
            background: #eee;
            transition: .5s;
        }

        .box div:nth-of-type(2) {
            background: #ddd;
        }

        .active {
            width: 100%
        }

        .hidden {
            width: 0%
        }

        .cursor {
            width: 20px;
            height: 20px;
            background: #000;
            position: fixed;
            z-index: 5;
        }

        .img {
            position: fixed;
            z-index: 3;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>

    <script>




        window.addEventListener('click', function (e) {
            console.log("x=" + e.pageX);
            console.log("y=" + e.pageY);

            var div = document.querySelectorAll('.box div');
            var hidden = 0, visible = 0;

            if (window.innerWidth / 2 < e.pageX) {
                console.log('우측');
                hidden = 0;
                visible = 1;
            } else {
                console.log('좌측');
                hidden = 1;
                visible = 0;
            }
            div[hidden].classList.add('hidden');
            div[visible].classList.add('active');

        });



        var cursor = document.querySelector('.cursor');
        var img = document.querySelector('.img img');
        var k = 0;
        var bln = true;

        img.addEventListener('mousemove', function (e) {
            //console.log(e.pageX);
            cursor.style.left = e.pageX + 'px';
            cursor.style.top = e.pageY + 'px';

            if (bln) {
                bln = false;
                k++;
                if (k % 4 == 0) { k = 1 }

                img.src = '../html/img/p_0' + k + '.jpg';
                setTimeout(function () { bln = true; }, 100);
            }


        });


    </script>












</body>

</html>